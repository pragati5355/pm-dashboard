<!-- Loading bar -->
<fuse-loading-bar></fuse-loading-bar>

<!-- Navigation -->
<fuse-vertical-navigation
    class="dark bg-gray-900 print:hidden"
    [mode]="isScreenSmall ? 'side' : 'over'"
    [name]="'mainNavigation'"
    [navigation]="navigation?.default"
    [opened]="isScreenSmall"
>
    <!-- Navigation header hook -->
    <ng-container fuseVerticalNavigationContentHeader>
        <div class="flex items-center w-full p-4 pl-6">
            <!-- Logo -->
            <div class="flex items-center justify-center">
                <img
                    class="w-20"
                    src="/assets/images/logo/mindbowser-logo-white.svg"
                />
            </div>
            <!-- Components -->
            <div class="flex items-center ml-auto relative">
                <user [showAvatar]="false"></user>
                <svg
                    width="48"
                    height="109"
                    viewBox="0 0 170 109"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="absolute position-cap"
                >
                    <path
                        d="M132.499 107.353C130.726 107.368 128.928 106.786 127.316 105.549C122.94 102.191 105.988 91.2572 71.5687 91.5492C36.8385 91.8439 19.4184 103.103 14.9068 106.547C10.4521 109.947 4.55274 108.322 1.72937 102.918C-1.09362 97.5137 0.229129 90.3764 4.68384 86.9764C11.8467 81.5091 31.8212 67.6575 70.5092 67.3293C87.073 67.1887 102.921 70.4794 115.91 74.9413C126.595 78.6121 133.55 82.9988 137.503 86.0321C141.964 89.4556 143.724 97.8333 140.911 103.223C139.114 106.665 135.635 107.326 132.499 107.353Z"
                        fill="#F4F3EF"
                    />
                    <path
                        d="M70.6597 69.3633C40.2625 68.0468 24.9694 77.7099 19.9021 80.4955C17.9613 81.5625 12.8067 85.9694 10.271 82.4455C7.73533 79.4221 9.76237 76.4001 10.2686 74.3867C13.2758 26.8951 46.8003 2.27746 98.1155 4.5C133.814 6.04616 161.306 24.3696 160.5 42.9735C160.395 45.3889 160.84 35.115 143.265 34.3538C131.53 33.8456 129.696 57.7145 128.703 79.3916C128.84 80.5295 128.84 80.5295 128.333 80.5283C128.84 80.5295 128.841 80.0518 127.826 80.527C123.061 77.2155 100.77 70.6674 70.6597 69.3633Z"
                        fill="#FF473E"
                    />
                    <ellipse
                        cx="161.509"
                        cy="52.8291"
                        rx="8.5"
                        ry="9"
                        fill="#F4F3EF"
                    />
                </svg>
            </div>
        </div>
        <!-- User -->
        <div class="flex flex-col items-center w-full p-4">
            <div class="relative w-24 h-24">
                <img
                    class="w-full h-full rounded-full"
                    *ngIf="userPhoto"
                    src="{{ userPhoto }}"
                    alt="User avatar"
                />
                <mat-icon
                    class="icon-size-24"
                    *ngIf="!userPhoto"
                    [svgIcon]="'heroicons_solid:user-circle'"
                ></mat-icon>
            </div>
            <div
                *ngIf="userData"
                class="flex flex-col items-center justify-center w-full mt-6"
            >
                <div
                    class="w-full whitespace-nowrap text-ellipsis overflow-hidden text-center leading-normal font-medium"
                >
                    {{
                        userData?.firstName + " " + userData?.lastName
                            | titlecase
                    }}
                </div>
                <div
                    class="w-full mt-0.5 whitespace-nowrap text-ellipsis overflow-hidden text-center text-md leading-normal font-medium text-secondary"
                >
                    {{ userState?.role }}
                </div>
            </div>
        </div>
    </ng-container>
    <!-- Navigation footer hook -->
    <ng-container fuseVerticalNavigationFooter>
        <div
            class="flex flex-0 items-center justify-center h-16 pr-6 pl-2 mt-2 mb-4 opacity-12"
        >
            App Version: {{ appVersion }}
        </div>
    </ng-container>
</fuse-vertical-navigation>

<div class="flex flex-col flex-auto w-full min-w-0">
    <div
        class="relative flex flex-0 items-center w-full h-16 px-4 md:px-6 z-49 shadow dark:shadow-none dark:border-b bg-card dark:bg-transparent print:hidden"
    >
        <button mat-icon-button (click)="toggleNavigation('mainNavigation')">
            <mat-icon [svgIcon]="'heroicons_outline:menu'"></mat-icon>
        </button>
        <h1 class="font-bold tracking-tight leading-none m-0">
            {{ pageTitle }}
        </h1>
    </div>
    <div class="flex flex-col flex-auto">
        <router-outlet></router-outlet>
    </div>
</div>
