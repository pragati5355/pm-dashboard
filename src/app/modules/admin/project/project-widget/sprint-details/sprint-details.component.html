<div class="flex flex-col flex-auto min-w-0">

  <!-- Header -->
  <div class="bg-card">
    <div class="flex flex-col w-full max-w-screen-xl mx-auto px-1  sm:px-8">
      <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0   sm:my-2">
        <!-- Avatar and name -->
        <div class="flex flex-col flex-auto items-center min-w-0">
          <div class="flex items-center justify-between w-full">
            <div class="text-4xl font-extrabold tracking-tight">
              <mat-icon [svgIcon]="'heroicons_outline:arrow-sm-left'"></mat-icon>
            </div>
          </div>
          <div class="flex items-center justify-between w-full">
            <div class="mt-3">
              <div class="text-3xl font-semibold tracking-tight leading-8">{{project_name}}</div>
              <div class="font-medium tracking-tight text-secondary"> </div>
            </div>
            <div class="mt-3 flex items-center ml-6">
              <button mat-flat-button *ngIf="project_status"
                class=" ml-auto inline-flex items-center font-bold text-xs px-3 py-2.5 tracking-wide uppercase"
                [ngClass]="{'bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50 bg-red-200 ':project_status == 'Sync In Progress',
                      'text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500':project_status == 'On Track',
                      'text-amber-800 bg-amber-100 dark:text-amber-50 dark:bg-amber-500':project_status == 'At Risk',
                      'text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500':project_status == 'Off Track'}">
                <span class="leading-relaxed whitespace-nowrap">{{project_status}}</span>
              </button>

              <button class="ml-4" mat-flat-button [color]="'primary'">
                <mat-icon class=" icon-size-5" [svgIcon]="'heroicons_outline:pencil'"></mat-icon>
                <span class="ml-2 mr-1">Edit Project</span>
              </button>

              <!-- Actions menu (visible on xs) -->
              <div class="sm:hidden">
                <button [matMenuTriggerFor]="actionsMenu" mat-icon-button>
                  <mat-icon [svgIcon]="'heroicons_outline:dots-vertical'"></mat-icon>
                </button>
                <mat-menu #actionsMenu="matMenu">
                  <button mat-menu-item>On Track</button>
                  <button mat-menu-item>Edit Project</button>
                </mat-menu>
              </div>
            </div>
          </div>
          <div class="flex items-center mt-5  mb-4 justify-between w-full">
            <mat-progress-bar class="my-2" [value]="project_progres"></mat-progress-bar>
            <div class="max-w-10 w-full text-right"> {{project_progres}}%</div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Main -->
  <div class="flex-auto border-t -mt-px pt-4 mb-6 sm:pt-6">
    <div class="w-full max-w-screen-xl mx-auto">
      <!-- Tabs -->
      <div class="sm:px-6">

        <!-- Home -->
        <div class="grid grid-cols-1 sm:grid-cols-2 mb-6 md:grid-cols-3 gap-6 w-full min-w-0">


          <!-- Features -->
          <div class="flex flex-col flex-auto   bg-card shadow  overflow-hidden">
            <div class="p-2 border-b">
              <div class="flex items-start justify-between ">
                <div class="text-lg font-medium tracking-tight leading-6 truncate"> Customer Happiness Score</div>

              </div>
            </div>
            <div class="flex flex-col  p-6 items-center mt-2">
              <app-customer-happiness-score></app-customer-happiness-score>
            </div>
          </div>
          <!-- Features -->
          <div class="flex flex-col flex-auto  bg-card shadow  col-span-5  overflow-hidden">
            <div class="p-2 border-b">
              <div class="flex items-start justify-between ">
                <div class="text-lg font-medium tracking-tight leading-6 truncate">Features</div>

              </div>
            </div>
            <div class="flex flex-col p-6 items-center mt-2">
              <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-green-500">38</div>
              <div class="text-lg font-medium text-green-600 dark:text-green-500">Proposals</div>
              <div class="flex items-baseline justify-center w-full mt-5 text-secondary">
                <div class="text-md font-medium truncate">Implemented:</div>
                <div class="ml-1.5 text-lg font-semibold">16</div>
              </div>
            </div>
          </div>
          <!-- Github issues summary -->
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
          <div
            class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
            <div class="flex flex-col sm:flex-row items-start justify-between">
              <div class="text-lg font-medium tracking-tight leading-6 truncate">Github Issues Summary</div>
              <div class="mt-3 sm:mt-0 sm:ml-2">
                <mat-button-toggle-group value="this-week" #githubIssuesWeekSelector="matButtonToggleGroup">
                  <mat-button-toggle value="last-week">Last Week</mat-button-toggle>
                  <mat-button-toggle value="this-week">This Week</mat-button-toggle>
                </mat-button-toggle-group>
              </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 grid-flow-row gap-6 w-full mt-8 sm:mt-4">
              <!-- New vs. Closed -->
              <div class="flex flex-col flex-auto">
                <div class="font-medium text-secondary">New vs. Closed</div>
                <div class="flex flex-col flex-auto">
                  <apx-chart class="flex-auto w-full h-80" [chart]="chartGithubIssues.chart"
                    [colors]="chartGithubIssues.colors" [dataLabels]="chartGithubIssues.dataLabels"
                    [grid]="chartGithubIssues.grid" [labels]="chartGithubIssues.labels"
                    [legend]="chartGithubIssues.legend" [plotOptions]="chartGithubIssues.plotOptions"
                    [series]="chartGithubIssues.series[githubIssuesWeekSelector.value]"
                    [states]="chartGithubIssues.states" [stroke]="chartGithubIssues.stroke"
                    [tooltip]="chartGithubIssues.tooltip" [xaxis]="chartGithubIssues.xaxis"
                    [yaxis]="chartGithubIssues.yaxis"></apx-chart>
                </div>
              </div>
              <!-- Overview -->
              <div class="flex flex-col">
                <div class="font-medium text-secondary">Overview</div>
                <div class="flex-auto grid grid-cols-4 gap-4 mt-6">
                  <!-- New issues -->
                  <div
                    class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-indigo-50 text-indigo-800 dark:bg-white dark:bg-opacity-5 dark:text-indigo-400">
                    <div class="text-5xl sm:text-7xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['new-issues']}}
                    </div>
                    <div class="mt-1 text-sm sm:text-lg font-medium">New Issues</div>
                  </div>
                  <!-- Closed -->
                  <div
                    class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-green-50 text-green-800 dark:bg-white dark:bg-opacity-5 dark:text-green-500">
                    <div class="text-5xl sm:text-7xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['closed-issues']}}
                    </div>
                    <div class="mt-1 text-sm sm:text-lg font-medium">Closed</div>
                  </div>
                  <!-- Fixed -->
                  <div
                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                    <div class="text-5xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['fixed']}}
                    </div>
                    <div class="mt-1 text-sm font-medium text-center">Fixed</div>
                  </div>
                  <!-- Won't fix -->
                  <div
                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                    <div class="text-5xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['wont-fix']}}
                    </div>
                    <div class="mt-1 text-sm font-medium text-center">Won't Fix</div>
                  </div>
                  <!-- Re-opened -->
                  <div
                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                    <div class="text-5xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['re-opened']}}
                    </div>
                    <div class="mt-1 text-sm font-medium text-center">Re-opened</div>
                  </div>
                  <!-- Needs triage -->
                  <div
                    class="col-span-2 sm:col-span-1 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5">
                    <div class="text-5xl font-semibold leading-none tracking-tight">
                      {{data.githubIssues.overview[githubIssuesWeekSelector.value]['needs-triage']}}
                    </div>
                    <div class="mt-1 text-sm font-medium text-center">Needs Triage</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Task distribution -->
          <div
            class="sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
            <div class="flex flex-col sm:flex-row items-start justify-between">
              <div class="text-lg font-medium tracking-tight leading-6 truncate">Task Distribution</div>
              <div class="mt-3 sm:mt-0 sm:ml-2">
                <mat-button-toggle-group value="this-week" #taskDistributionWeekSelector="matButtonToggleGroup">
                  <mat-button-toggle value="last-week">Last Week</mat-button-toggle>
                  <mat-button-toggle value="this-week">This Week</mat-button-toggle>
                </mat-button-toggle-group>
              </div>
            </div>
            <div class="flex flex-col flex-auto mt-6">
              <apx-chart class="flex-auto w-full h-80" [chart]="chartTaskDistribution.chart"
                [labels]="chartTaskDistribution.labels" [legend]="chartTaskDistribution.legend"
                [plotOptions]="chartTaskDistribution.plotOptions"
                [series]="chartTaskDistribution.series[taskDistributionWeekSelector.value]"
                [states]="chartTaskDistribution.states" [stroke]="chartTaskDistribution.stroke"
                [theme]="chartTaskDistribution.theme" [tooltip]="chartTaskDistribution.tooltip"
                [yaxis]="chartTaskDistribution.yaxis"></apx-chart>
            </div>
            <div class="grid grid-cols-2 border-t divide-x -m-6 mt-4 bg-gray-50 dark:bg-transparent">
              <div class="flex flex-col items-center justify-center p-6 sm:p-8">
                <div class="text-5xl font-semibold leading-none tracking-tighter">
                  {{data.taskDistribution.overview[taskDistributionWeekSelector.value]['new']}}
                </div>
                <div class="mt-1 text-center text-secondary">New tasks</div>
              </div>
              <div class="flex flex-col items-center justify-center p-6 sm:p-8">
                <div class="text-5xl font-semibold leading-none tracking-tighter">
                  {{data.taskDistribution.overview[taskDistributionWeekSelector.value]['completed']}}
                </div>
                <div class="mt-1 text-center text-secondary">Completed tasks</div>
              </div>
            </div>
          </div>
          <!-- Schedule -->
          <div
            class="sm:col-span-2 md:col-span-4 lg:col-span-2 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
            <div class="flex flex-col sm:flex-row items-start justify-between">
              <div class="text-lg font-medium tracking-tight leading-6 truncate">Schedule</div>
              <div class="mt-3 sm:mt-0 sm:ml-2">
                <mat-button-toggle-group value="today" #scheduleDaySelector="matButtonToggleGroup">
                  <mat-button-toggle value="today">Today</mat-button-toggle>
                  <mat-button-toggle value="tomorrow">Tomorrow</mat-button-toggle>
                </mat-button-toggle-group>
              </div>
            </div>
            <div class="flex flex-col mt-2 divide-y">
              <ng-container *ngFor="let scheduleItem of data.schedule[scheduleDaySelector.value]; trackBy: trackByFn">
                <div class="flex flex-row items-center justify-between py-4 px-0.5">
                  <div class="flex flex-col">
                    <div class="font-medium">{{scheduleItem.title}}</div>
                    <div
                      class="flex flex-col sm:flex-row sm:items-center -ml-0.5 mt-2 sm:mt-1 space-y-1 sm:space-y-0 sm:space-x-3">
                      <ng-container *ngIf="scheduleItem.time">
                        <div class="flex items-center">
                          <mat-icon class="icon-size-5 text-hint" [svgIcon]="'heroicons_solid:clock'"></mat-icon>
                          <div class="ml-1.5 text-md text-secondary">{{scheduleItem.time}}</div>
                        </div>
                      </ng-container>
                      <ng-container *ngIf="scheduleItem.location">
                        <div class="flex items-center">
                          <mat-icon class="icon-size-5 text-hint" [svgIcon]="'heroicons_solid:location-marker'">
                          </mat-icon>
                          <div class="ml-1.5 text-md text-secondary">{{scheduleItem.location}}</div>
                        </div>
                      </ng-container>
                    </div>
                  </div>
                  <button mat-icon-button>
                    <mat-icon [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                  </button>
                </div>
              </ng-container>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>