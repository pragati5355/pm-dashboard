<div class="flex flex-col flex-auto min-w-0 p-8">
    <div class="flex w-full gap-4">
        <div class="w-full bg-white p-6 rounded-xl shadow">
            <div class="text-xl font-semibold">Statistics</div>
            <div
                class="flex-auto grid grid-cols-6 gap-4 mt-6"
                [ngClass]="isLoading ? 'skeleton-loader' : ''"
            >
                <div *ngIf="isLoading" class="col-span-2 rounded-2xl"></div>
                <div *ngIf="isLoading" class="col-span-2 rounded-2xl"></div>
                <div *ngIf="isLoading" class="col-span-2 rounded-2xl"></div>
            </div>
            <div *ngIf="!isLoading" class="flex-auto grid grid-cols-6 gap-4">
                <div
                    class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-indigo-50 text-amber-800 dark:bg-white dark:bg-opacity-5 dark:text-amber-400 cursor-pointer"
                    (click)="goToResources()"
                >
                    <div
                        class="text-5xl sm:text-5xl font-semibold leading-none tracking-tight"
                    >
                        {{ statCount?.resourceCount }}
                    </div>
                    <div class="mt-1 text-sm sm:text-lg font-medium">
                        Resources
                    </div>
                </div>
                <div
                    class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-indigo-50 text-indigo-800 dark:bg-white dark:bg-opacity-5 dark:text-indigo-400 cursor-pointer"
                    (click)="goToProjects()"
                >
                    <div
                        class="text-5xl sm:text-5xl font-semibold leading-none tracking-tight"
                    >
                        {{ statCount?.projectCount }}
                    </div>
                    <div class="mt-1 text-sm sm:text-lg font-medium">
                        Projects
                    </div>
                </div>
                <div
                    class="col-span-2 flex flex-col items-center justify-center py-8 px-1 rounded-2xl bg-indigo-50 text-green-800 dark:bg-white dark:bg-opacity-5 dark:text-green-400 cursor-pointer"
                    (click)="goToProjects()"
                >
                    <div
                        class="text-5xl sm:text-5xl font-semibold leading-none tracking-tight"
                    >
                        {{ statCount?.repoCount }}
                    </div>
                    <div class="mt-1 text-sm sm:text-lg font-medium">Repos</div>
                </div>
            </div>

            <div class="mt-6">
                <div
                    *ngIf="isLoading"
                    class="grid grid-cols-4 gap-4"
                    [ngClass]="isLoading ? 'skeleton-loader-devs' : ''"
                >
                    <div
                        *ngFor="let i of [1, 2, 3, 4]"
                        class="flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-secondary dark:bg-white dark:bg-opacity-5 h-24"
                    ></div>
                </div>
                <div *ngIf="!isLoading" class="flex justify-between gap-4">
                    <div
                        class="w-full flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-amber-800 dark:bg-white dark:bg-opacity-5 h-24"
                    >
                        <div class="text-3xl font-semibold text-center">
                            {{ statCount?.developerCount }}
                        </div>
                        <div
                            class="mt-2 font-semibold leading-none tracking-tight"
                        >
                            Developer
                        </div>
                    </div>
                    <div
                        class="w-full flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-amber-800 dark:bg-white dark:bg-opacity-5 h-24"
                    >
                        <div class="text-3xl font-semibold text-center">
                            {{ statCount?.qaCount }}
                        </div>
                        <div
                            class="mt-2 font-semibold leading-none tracking-tight"
                        >
                            QA
                        </div>
                    </div>
                    <div
                        class="w-full flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-amber-800 dark:bg-white dark:bg-opacity-5 h-24"
                    >
                        <div class="text-3xl font-semibold text-center">
                            {{ statCount?.designerCount }}
                        </div>
                        <div
                            class="mt-2 font-semibold leading-none tracking-tight"
                        >
                            Designer
                        </div>
                    </div>
                    <div
                        class="w-full flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-amber-800 dark:bg-white dark:bg-opacity-5 h-24"
                    >
                        <div class="text-3xl font-semibold text-center">
                            {{ statCount?.pmCount }}
                        </div>
                        <div
                            class="mt-2 font-semibold leading-none tracking-tight"
                        >
                            PM
                        </div>
                    </div>
                    <div
                        class="w-full flex flex-col items-center justify-center py-4 px-1 rounded-2xl bg-gray-100 text-amber-800 dark:bg-white dark:bg-opacity-5 h-24"
                    >
                        <div class="text-3xl font-semibold text-center">46</div>
                        <div
                            class="mt-2 font-semibold leading-none tracking-tight"
                        >
                            Vendor
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="w-2/3 bg-white p-6 rounded-xl shadow">
            <div class="text-xl font-semibold">Reports</div>

            <div class="w-full flex-auto grid gap-4 mt-5">
                <div
                    class="w-full flex items-center py-2 px-4 justify-between rounded-2xl bg-indigo-50 text-black dark:bg-white dark:bg-opacity-5 dark:text-black cursor-pointer"
                >
                    <div class="mt-1 text-md sm:text-lg font-medium">
                        Resource Utilization
                    </div>
                    <div
                        class="flex items-center pl-5 mt-6 sm:mt-0 sm:ml-2 space-x-3"
                    >
                        <button
                            [color]="'primary'"
                            [matTooltip]="
                                'Download Resource Utilization Report'
                            "
                            class="ml-4"
                            mat-flat-button
                            [disabled]="submitInProcess"
                            (click)="downloadExcelReport()"
                        >
                            <mat-icon
                                [svgIcon]="
                                    'heroicons_outline:arrow-circle-down'
                                "
                            ></mat-icon>

                            <mat-progress-spinner
                                *ngIf="submitInProcess"
                                [diameter]="18"
                                [mode]="'indeterminate'"
                            ></mat-progress-spinner>
                        </button>
                    </div>
                </div>
                <div
                    class="flex items-center py-2 px-4 justify-between rounded-2xl bg-indigo-50 text-black dark:bg-white dark:bg-opacity-5 dark:text-black cursor-pointer"
                >
                    <div class="mt-1 text-md sm:text-lg font-medium">
                        Resource Availablity
                    </div>
                    <div
                        class="flex items-center pl-5 mt-6 sm:mt-0 sm:ml-2 space-x-3"
                    >
                        <button
                            [color]="'primary'"
                            [matTooltip]="
                                'Download Resource Availablity report'
                            "
                            class="ml-4"
                            mat-flat-button
                            [disabled]="submitInProcess1"
                            (click)="downloadExcelAvailablityReport()"
                        >
                            <mat-icon
                                [svgIcon]="
                                    'heroicons_outline:arrow-circle-down'
                                "
                            ></mat-icon>

                            <mat-progress-spinner
                                *ngIf="submitInProcess1"
                                [diameter]="18"
                                [mode]="'indeterminate'"
                            ></mat-progress-spinner>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-8">
        <div class="w-full bg-white p-6 rounded-xl shadow">
            <div class="flex justify-between items-center">
                <div class="text-xl font-semibold mb-4">BPC Nomination's</div>
                <div class="flex justify-center items-center">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="flex items-center">
                                <mat-label class="mb-4 mr-2">Month</mat-label>
                                <mat-form-field>
                                    <mat-select
                                        [value]="selectedTabIndex"
                                        (selectionChange)="
                                            onMonthChanged($event)
                                        "
                                    >
                                        <mat-option
                                            *ngFor="let month of matTabList"
                                            [value]="month?.value"
                                            [disabled]="
                                                month?.value > currentMonth &&
                                                selectedYear >= currentYear
                                            "
                                            >{{ month?.label }}</mat-option
                                        >
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="flex items-center">
                                <mat-label class="mb-4 ml-5 mr-2"
                                    >Year</mat-label
                                >
                                <mat-form-field>
                                    <mat-select
                                        [(value)]="selectedYear"
                                        (selectionChange)="onYearChange($event)"
                                    >
                                        <mat-option
                                            *ngFor="let year of matSelectYears"
                                            value="{{ year }}"
                                            [disabled]="
                                                initialLoading ||
                                                year > currentYear
                                            "
                                            >{{ year }}</mat-option
                                        >
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div
                        *ngIf="
                            loggedInUser?.role === 'SALES' ||
                            loggedInUser?.role === 'PM' ||
                            loggedInUser?.role === 'HR'
                        "
                        class="mb-4"
                    >
                        <button
                            [color]="'primary'"
                            class="ml-4"
                            mat-flat-button
                            [disabled]="isLoadingDeveloperEmails"
                            (click)="openDialog()"
                        >
                            <mat-icon class="mr-2">stars</mat-icon>
                            <span>Nominate</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <div class="w-full mt-4">
                    <div class="flex flex-auto overflow-hidden">
                        <div
                            class="flex flex-col flex-auto overflow-hidden sm:overflow-y-auto"
                        >
                            <div
                                *ngIf="
                                    !initialLoading && nomineeList?.length > 0
                                "
                                class="inventory-grid z-10 sticky top-0 grid gap-4 py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                                matSortDisableClear
                            >
                                <div class="primary-900 font-semibold">
                                    Nominee name
                                </div>
                                <div class="hidden sm:block font-semibold">
                                    Nominated by
                                </div>
                                <div class="hidden sm:block font-semibold">
                                    Award
                                </div>
                                <div class="hidden sm:block font-semibold">
                                    Reason
                                </div>
                            </div>
                            <ng-container
                                *ngIf="
                                    !initialLoading && nomineeList?.length > 0
                                "
                            >
                                <div class="grid custom-max-height">
                                    <!-- Header -->

                                    <!-- Rows -->
                                    <ng-container
                                        *ngFor="let nominee of nomineeList"
                                    >
                                        <div
                                            class="inventory-grid grid items-center gap-4 py-4 px-6 md:px-8 border-b h-67"
                                        >
                                            <div class="truncate text-black">
                                                <div
                                                    class="truncate cursor-pointer"
                                                >
                                                    {{ nominee?.nomineeName }}
                                                </div>
                                            </div>

                                            <div
                                                class="hidden md:block truncate"
                                            >
                                                {{ nominee?.nominatedByName }}
                                            </div>

                                            <div class="hidden sm:block">
                                                {{
                                                    nominee?.award ==
                                                    "RISING_STAR"
                                                        ? "Rising star"
                                                        : "Super star"
                                                }}
                                            </div>

                                            <div class="hidden sm:block">
                                                {{ nominee?.reason }}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <ng-container
                                *ngIf="
                                    !initialLoading && nomineeList?.length === 0
                                "
                            >
                                <div
                                    class="p-8 sm:p-16 border-t text-2xl font-semibold tracking-tight text-center"
                                >
                                    Nomination's not found
                                </div>
                            </ng-container>
                            <!-- <ng-container *ngIf="initialLoading">
                                <app-table-skeleton
                                    [skeletonData]="requiredSprintSkeletonData"
                                ></app-table-skeleton>
                            </ng-container> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
