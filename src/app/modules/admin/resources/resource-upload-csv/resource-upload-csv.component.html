<div
    matDialogTitle
    class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 bg-primary text-on-primary -mt-6 -mx-6"
>
    <div class="text-lg font-medium">Resource CSV Upload</div>
    <button
        *ngIf="!submitInProgress"
        mat-icon-button
        (click)="cancel()"
        [tabIndex]="-1"
    >
        <mat-icon
            class="text-current"
            [svgIcon]="'heroicons_outline:x'"
        ></mat-icon>
    </button>
</div>

<div class="mt-3">
    <div class="text-primary">Upload CSV</div>
    <button
        class="min-w-30"
        mat-raised-button
        color="primary"
        (click)="onClick($event)"
        *ngIf="uploadFileName === null"
    >
        <span>Upload</span>
        <mat-progress-spinner
            *ngIf="submitInProgress"
            [diameter]="24"
            [mode]="'indeterminate'"
            class="px-2"
        ></mat-progress-spinner>
    </button>
    <div *ngIf="uploadFileName !== null" class="flex item-center">
        <span class="text-primary font-semibold text-xl">{{
            uploadFileName
        }}</span>
        <div class="ml-2 cursor-pointer">
            <mat-icon
                class="text-primary"
                [svgIcon]="'heroicons_outline:x'"
                (click)="removeUploadedFile()"
                [matTooltip]="'remove file'"
            ></mat-icon>
        </div>
    </div>
    <input
        #fileUpload
        class="d-none"
        type="file"
        accept=".csv"
        (change)="uploadChange($event)"
    />
</div>

<div class="mt-3">
    <a href="#" class="text-primary underline">Download Resource CSV Template</a>
</div>

<div mat-dialog-actions class="flex flex-row justify-end">
    <button
        mat-stroked-button
        [disabled]="submitInProgress"
        (click)="dialogRef.close()"
    >
        Cancel
    </button>
    <button
        mat-flat-button
        color="primary"
        [disabled]="submitInProgress"
        (click)="submit()"
    >
        <mat-progress-spinner
            *ngIf="submitInProgress"
            class="mr-2"
            mode="indeterminate"
            diameter="24"
        ></mat-progress-spinner>
        Submit
    </button>
</div>
