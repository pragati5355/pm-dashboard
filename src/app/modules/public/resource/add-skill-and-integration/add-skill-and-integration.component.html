<div
    class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 text-black -m-6"
>
    <div class="text-lg font-medium">Add skill/integrations</div>

    <button mat-icon-button (click)="cancel()" [tabIndex]="-1">
        <mat-icon
            class="text-current"
            [svgIcon]="'heroicons_outline:x'"
        ></mat-icon>
    </button>
</div>

<form [formGroup]="skillAndIntegrationsForm">
    <div formArrayName="skillandIntegration" class="mt-4">
        <ng-container
            *ngFor="
                let skill of skillandIntegration?.controls;
                let i = index;
                let last = last
            "
        >
            <form
                class="flex flex-row justify-center items-center"
                [formGroupName]="i"
            >
                <mat-form-field
                    class="w-full mr-4 userlist mt-4"
                    id="userlist"
                    [floatLabel]="'always'"
                >
                    <mat-label
                        >Name the project you have worked on in
                        mindbowser</mat-label
                    >
                    <input
                        matInput
                        placeholder="Project Name"
                        formControlName="name"
                        class="inputlist"
                    />
                    <mat-error *ngIf="skill?.get('name')?.hasError('required')">
                        <div class="text-red-500">
                            Project Name is Mandatory
                        </div>
                    </mat-error>
                </mat-form-field>

                <mat-icon
                    *ngIf="last"
                    class="cursor-pointer mr-2"
                    color="primary"
                    matTooltip="Add more projects"
                    (click)="skill?.valid ? add() : skill?.markAllAsTouched()"
                    >add</mat-icon
                >
                <mat-icon
                    *ngIf="i != 0"
                    class="cursor-pointer"
                    color="warn"
                    matTooltip="Remove"
                    (click)="remove(i)"
                    >delete</mat-icon
                >
            </form>
        </ng-container>
    </div>
</form>
